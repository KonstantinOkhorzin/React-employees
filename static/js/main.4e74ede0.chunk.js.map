{"version":3,"sources":["components/app-info/app-info.js","components/search-panel/search-panel.js","components/app-filter/app-filter.js","components/employees-list-item/employees-list-item.js","components/employees-list/employees-list.js","components/employees-add-form/employees-add-form.js","components/app/app.js","index.js"],"names":["AppInfo","employees","increased","className","SearchPanel","onUpdateSearch","useState","searchTerm","setSearchTerm","value","onChange","e","term","target","type","placeholder","AppFilter","filter","onFilterSelect","buttons","name","label","map","clazz","onClick","EmployeesListItem","salary","onDeleteItem","onToggleProp","classNames","increase","rise","defaultValue","EmployeesList","data","elements","item","id","itemProps","currentTarget","getAttribute","EmployeesAddForm","addItem","setName","setSalary","onSubmit","preventDefault","length","App","JSON","parse","localStorage","getItem","setData","useEffect","setItem","stringify","setTerm","setFilter","visibleData","filterPost","indexOf","searchEmp","prop","newItem","uuidv4","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e74ede0.chunk.js","sourcesContent":["import './app-info.css';\r\n\r\nconst AppInfo = ({employees, increased}) => {\r\n    return (\r\n        <div className=\"app-info\">\r\n            <h1>Учет сотрудников в компании</h1>\r\n            <h2>Общее число сотрудников: {employees}</h2>\r\n            <h2>Премию получат: {increased}</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default AppInfo;","import { useState } from 'react';\r\n\r\nimport './search-panel.css';\r\n\r\n\r\nconst SearchPanel = ({onUpdateSearch}) => {\r\n\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    const onUpdate = (e) => {\r\n        const term = e.target.value;\r\n        setSearchTerm(term);\r\n        onUpdateSearch(term)//передаем данные в главный компонент\r\n    }\r\n\r\n    return (\r\n        <input\r\n            value={searchTerm}\r\n            onChange={onUpdate}\r\n            type=\"text\" \r\n            className=\"form-control search-input\" \r\n            placeholder=\"Найти сотрудника\"/>\r\n    )      \r\n}\r\n\r\nexport default SearchPanel;","import './app-filter.css';\r\n\r\nconst AppFilter = ({filter, onFilterSelect}) => {\r\n    const buttonsData = [\r\n        {name: 'all' , label: 'Все сотрудники'},\r\n        {name: 'rise' , label: 'На повышение'},\r\n        {name: 'moreThen1000' , label: 'З/П больше 1000$'},\r\n    ];\r\n\r\n    const buttons = buttonsData.map(({name, label}) => {\r\n        const active = filter === name;//возвращает true or false для класса активности\r\n        const clazz = active ? 'btn-light' : 'btn-outline-light';\r\n        return(\r\n            <button\r\n                onClick={() => onFilterSelect(name)}\r\n                 className={`btn ${clazz}`} \r\n                 type=\"button\" \r\n                 key={name}>\r\n                    {label}\r\n            </button> \r\n        )\r\n    })\r\n\r\n    return (\r\n        <div className=\"btn-group\">\r\n            {buttons}\r\n        </div>\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default AppFilter;","\r\nimport \"./employees-list-item.css\";\r\n\r\nconst EmployeesListItem = ({name, salary, onDeleteItem, onToggleProp, increase, rise}) => {\r\n\r\n    //Добавляем класс активному елементу\r\n    let classNames = \"list-group-item d-flex justify-content-between\";\r\n    if (increase) {\r\n        classNames += ' increase';\r\n    }\r\n\r\n    //Добавляем класс активному елементу\r\n    if (rise) {\r\n        classNames += ' like';\r\n    }\r\n\r\n    return (\r\n        <li className={classNames}>\r\n            <span \r\n            onClick={onToggleProp}\r\n            data-toggle='rise'\r\n            className=\"list-group-item-label\">\r\n                {name}\r\n            </span>\r\n            <input type=\"text\" className=\"list-group-item-input\" defaultValue={salary + '$'} />\r\n            <div className='d-flex justify-content-center align-items-center'>\r\n\r\n                <button \r\n                    onClick={onToggleProp}\r\n                    data-toggle='increase'\r\n                    type=\"button\" \r\n                    className=\"btn-cookie btn-sm\">\r\n                    <i className=\"fas fa-cookie\"></i>\r\n                </button>\r\n\r\n                <button \r\n                    type=\"button\" \r\n                    className=\"btn-trash btn-sm\"\r\n                    onClick={onDeleteItem}>\r\n                    <i className=\"fas fa-trash\"></i>\r\n                </button>\r\n\r\n                <i className=\"fas fa-star\"></i>\r\n\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default EmployeesListItem;","import EmployeesListItem from '../employees-list-item/employees-list-item';\r\nimport './employees-list.css';\r\n\r\nconst EmployeesList = ({data, onDeleteItem, onToggleProp}) => {\r\n    const elements = data.map(item => {\r\n        const {id, ...itemProps} = item;// Деструкторизация по остаточному принципу\r\n        return (\r\n            <EmployeesListItem \r\n                key={id} \r\n                {...itemProps}\r\n                onDeleteItem={() => onDeleteItem(id)}\r\n                onToggleProp={(e) => onToggleProp(id, e.currentTarget.getAttribute('data-toggle'))}/>\r\n        )\r\n    })\r\n\r\n    return(\r\n        <ul className=\"app-list list-group\">\r\n            {elements}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default EmployeesList;","import { useState } from \"react\";\r\n\r\nimport './employees-add-form.css';\r\n\r\nconst EmployeesAddForm = ({ addItem }) => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [salary, setSalary] = useState('');\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (name.length < 3 || !salary) return;\r\n        addItem(name, salary);\r\n        setName('')\r\n        setSalary('')\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"app-add-form\">\r\n            <h3>Добавить нового сотрудника</h3>\r\n            <form\r\n                onSubmit={onSubmit}\r\n                className=\"add-form d-flex\">\r\n                <input\r\n                    onChange={e => setName(e.target.value)}\r\n                    value={name}\r\n                    type=\"text\"\r\n                    className=\"form-control new-post-label\"\r\n                    placeholder=\"Как его зовут\" />\r\n                <input\r\n                    onChange={e => setSalary(e.target.value)}\r\n                    value={salary}\r\n                    type=\"number\"\r\n                    className=\"form-control new-post-label\"\r\n                    placeholder=\"З/П в $?\" />\r\n                <button type=\"submit\" className=\"btn btn-outline-light\">Добавить</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EmployeesAddForm;","import { useState, useEffect } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport AppInfo from '../app-info/app-info';\r\nimport SearchPanel from '../search-panel/search-panel';\r\nimport AppFilter from '../app-filter/app-filter';\r\nimport EmployeesList from '../employees-list/employees-list';\r\nimport EmployeesAddForm from '../employees-add-form/employees-add-form';\r\n\r\nimport './app.css';\r\n\r\nfunction App() {\r\n\r\n    // const [data, setData] = useState([\r\n    //     { name: 'John C.', salary: 800, increase: false, rise: false, id: 1 },\r\n    //     { name: 'Alex M.', salary: 3000, increase: false, rise: true, id: 2 },\r\n    //     { name: 'Carl W.', salary: 5000, increase: false, rise: false, id: 3 }\r\n    // ]);\r\n\r\n    const [data, setData] = useState(\r\n        JSON.parse(localStorage.getItem('data')) || []\r\n    );\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('data', JSON.stringify(data))\r\n    }, [data]);\r\n\r\n    const [term, setTerm] = useState('');\r\n    const [filter, setFilter] = useState('all');\r\n\r\n    const employees = data.length;//общее кол. сотрудников\r\n    const increased = data.filter(item => item.increase).length;//сотрудники на повышение\r\n\r\n    const onDeleteItem = (id) => {\r\n        setData(data.filter(item => item.id !== id))\r\n    }\r\n\r\n    const addItem = (name, salary) => {\r\n        const newItem = {\r\n            name,\r\n            salary,\r\n            increase: false,\r\n            rise: false,\r\n            id: uuidv4()\r\n        }\r\n        setData([...data, newItem])\r\n    }\r\n\r\n    //Универсальная функция для изменения нескольких состояний\r\n    const onToggleProp = (id, prop) => {\r\n        setData(data.map(item => {\r\n            if (item.id === id) {\r\n                return { ...item, [prop]: !item[prop] }\r\n            }\r\n            return item;\r\n        })\r\n        )\r\n    }\r\n\r\n    //Функция для поиска\r\n    const searchEmp = (data, term) => {\r\n        if (term.length === 0) {\r\n            return data\r\n        }\r\n\r\n        return data.filter(item => {\r\n            return item.name.indexOf(term) > -1\r\n        })\r\n    }\r\n\r\n    //Функция для обновления поиска\r\n    const onUpdateSearch = (term) => {\r\n        setTerm(term)\r\n    }\r\n\r\n    //Функция для фильтрации\r\n    const filterPost = (data, filter) => {\r\n        switch (filter) {\r\n            case 'rise':\r\n                return data.filter(item => item.rise);\r\n            case 'moreThen1000':\r\n                return data.filter(item => item.salary > 1000);\r\n            default:\r\n                return data\r\n        }\r\n    }\r\n\r\n    const visibleData = filterPost(searchEmp(data, term), filter);//массив отфильтрованный по поиску и филтру\r\n\r\n    const onFilterSelect = (filter) => {\r\n        setFilter(filter);\r\n    }\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            <AppInfo employees={employees} increased={increased} />\r\n\r\n            <div className=\"search-panel\">\r\n                <SearchPanel onUpdateSearch={onUpdateSearch}/>\r\n                <AppFilter filter={filter} onFilterSelect={onFilterSelect}/>\r\n\r\n            </div>\r\n\r\n            <EmployeesList\r\n                data={visibleData}\r\n                onDeleteItem={onDeleteItem}\r\n                onToggleProp={onToggleProp} />\r\n            <EmployeesAddForm\r\n                addItem={addItem} />\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/app';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}